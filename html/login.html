<!DOCTYPE html>
<html>
    <head>
        <title>Spice Club</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="../css/main2.css">

    <script src="../javascript/main.js"></script>

     <!-- Script for fontawesome -->
     <script src="https://kit.fontawesome.com/a076d05399.js"></script>

      <!--We are using Font Awesome to create the cart icon -->
    <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"
  />

     <!-- google fonts link-->
    <link href="https://fonts.googleapis.com/css2?family=Special+Elite&display=swap" 
    rel="stylesheet">

    
    </head>


            <!--- start of body -->
    <body>
  

         <!-- start of section -->

     <section>

        <!-- start of nav bar -->

        <nav>

        <img id = "logo" src="../img/spiceclub.jpg" alt="Spice Club Logo" width="150" height="150">


        
            <ul>
                <li><a href="home.html">HOME</a></li><hr style=" width: 30%;">
                <li><a href="menus.html">MENUS</a></li><hr style=" width: 30%;">
                <li><a href="gallery.html">GALLERY</a></li><hr style=" width: 30%;">
                <li><a href="aboutus.html">ABOUT US</a></li><hr style=" width: 30%;">
            </ul>

            <div class="font">

                <p>Follow Us:</p>
    
              <div class="font2">
                <i class="fab fa-facebook-square"></i>
                <i class="fab fa-twitter-square"></i>
                <i class="fab fa-instagram-square"></i>
                <i class="fab fa-google-plus-square"></i>
                <i class="fab fa-linkedin"></i>
                <i class="fab fa-pinterest-square"></i>
                </div>
                </div>
        
            </nav>
        </nav>

        <!-- End of nav bar -->

         <!-- start of article-menu -->

        <article id="register">

           <h1>Login</h1>
           <div id="loginPara">
              <i class="fas fa-user-plus"></i>Email: <input type="email" id="emailInput" required><br>
              <i class="fas fa-lock"></i>Password: <input type="password" id="passwordInput" required><br>
               <button  id="button" onclick="login()">Login</button>

           </div>
           <p id="loginFailure" style="color:red;"></p>

           <script>
               function login(){
               //Get email address
               let email = document.getElementById("emailInput").value;

               //User does not have an account
               if(localStorage[email] === undefined){
                   //Inform user that they do not have an account
                   document.getElementById("loginFailure").innerHTML = "Email not recognized. Do you have an account?"
                   return; //Do nothing else
               }
               else{//User has an account
                  let usrObj = JSON.parse(localStorage[email]); //Convert to object
                  let password = document.getElementById("passwordInput").value;
                  if(password === usrObj.password){//Successful login
                       document.getElementById("loginPara").innerHTML = usrObj.email + " logged in.";
                       document.getElementById("loginFailure").innerHTML = "";//Clear any login failures
                       sessionStorage.loggedInUsrEmail = usrObj.email;
                  }
                  else{
                      document.getElementById("loginFailure").innerHTML = "Password not correct. Please try again.";

                  }

               }
         }

         window.onload = checkLogin;//Check to see if user is logged in already

         function checkLogin(){
             if(sessionStorage.loggedInUsrEmail !== undefined){
                 //Extract details of logged in user
                 let usrObj = JSON.parse(localStorage[sessionStorage.loggedInUsrEmail]);

                 //Say hello to logged in user
                 document.getElementById("loginPara").innerHTML = usrObj.email + "logged in.";
             }
         }
           </script>
           


           
            
                
                
            

            

            
        </article>

         <!-- End of article-menu -->

        <!-- article 2-->

       


     </section>

      <!-- End of section -->

       

    <footer>

        <!-- javascript date added to footer -->

        <p>&copy <script type="text/javascript">
            document.write(new Date().getFullYear());
            </script>
             Spice Club, All Rights Reserved.
             <span style="float: right;"> Website Developed and Designed by Hitendra Quessou</span>
            </p>

    </footer>


    
        








    </body>

     <!-- End of body -->












</html>